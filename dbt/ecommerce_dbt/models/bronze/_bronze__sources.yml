version: 2

sources:
  - name: raw
    description: Raw e-commerce data from Shopee exports 
    database: postgres
    schema: raw
    tables:
      - name: raw_orders
        description: |
          Raw orders table from Shopee seller center export
          - 547 orders from 2022
          - Vietnamese columns mapped to English
          - Loaded by data_preparation.py from MinIO Data Lake
        columns:
          - name: order_id
            description: Unique order identifier from Shopee (Mã đơn hàng)
          - name: package_id
            description: Package/shipment identifier
          - name: order_date
            description: Order creation timestamp (Ngày đặt hàng)
          - name: order_status
            description: Current order status (Trạng thái)
          - name: product_name
            description: Product name (Tên sản phẩm)
          - name: product_sku
            description: Product SKU
          - name: quantity
            description: Quantity ordered (Số lượng)
          - name: original_price
            description: Original product price in VND
          - name: discount_price
            description: Discounted price in VND
          - name: order_total_vnd
            description: Total order value in VND (Tổng giá trị đơn hàng)
          - name: buyer_username
            description: Buyer's Shopee username (Người Mua)
          - name: recipient_name
            description: Recipient name
          - name: province
            description: Delivery province (Tỉnh/Thành phố)
          - name: district
            description: Delivery district
          - name: shipping_carrier
            description: Shipping carrier (Đơn Vị Vận Chuyển)
          - name: shipping_method
            description: Shipping method
          - name: payment_method
            description: Payment method used (Phương thức thanh toán)
          - name: loaded_at
            description: Timestamp when data was loaded
          - name: data_source
            description: Data source identifier
        freshness:
          warn_after: {count: 24, period: hour}
          error_after: {count: 48, period: hour}
        loaded_at_field: loaded_at
